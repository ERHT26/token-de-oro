<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Token de Oro ‚Äì Bal√≥n de Oro 2024</title>
<style>
  body { font-family: sans-serif; padding: 20px; }
  table { border-collapse: collapse; width: 100%; max-width: 600px; }
  th, td { border: 1px solid #ccc; padding: 8px; text-align: center; }
  th { background: #ffd700; }
</style>
</head>
<body>

  <h2>üèÜ Token de Oro ‚Äì Finalistas Bal√≥n de Oro 2024</h2>
  <table id="results">
    <tr><th>Jugador</th><th>Puntos</th><th>Detalles</th></tr>
  </table>

  <script>
    const API_KEY = "6308d4db454108bc9e980a1784362264"; // tu clave

    const players = [
      { name: 'Rodri', id: 44 },
      { name: 'Vin√≠cius Jr', id: 762 },
      { name: 'Jude Bellingham', id: 129718 }
    ];

    async function getStats(playerId) {
      const url = `https://v3.football.api-sports.io/players?id=${playerId}&season=2023`;
      const resp = await fetch(url, {
        headers: {
          'x-apisports-key': API_KEY
        }
      });
      const data = await resp.json();
      if (data.response.length > 0 && data.response[0].statistics.length > 0) {
        return data.response[0].statistics[0];
      }
      return null;
    }

    function calcPoints(stats) {
      if (!stats) return 0;
      let pts = 0;
      pts += (stats.goals.total || 0) * 14;
      pts += (stats.goals.assists || 0) * 8;
      pts += (stats.shots?.on || 0) * 3; // tiro al arco
      // atajadas solo si es portero (no aplicable en este caso)
      // pts += (stats.goals.saves || 0) * 10; 
      pts += (stats.games.appearances || 0) * 5; // partidos jugados
      pts += (stats.cards.yellow || 0) * (-4);
      pts += (stats.cards.red || 0) * (-8);
      return pts;
    }

    async function load() {
      const table = document.getElementById('results');
      for (const p of players) {
        const stats = await getStats(p.id);
        const puntos = calcPoints(stats);
        const row = table.insertRow();
        row.insertCell().textContent = p.name;
        row.insertCell().textContent = puntos;
        if (stats) {
          row.insertCell().textContent = 
            `Goles: ${stats.goals.total || 0}, Asist: ${stats.goals.assists || 0}, ` +
            `Tiros: ${stats.shots?.on || 0}, Amarillas: ${stats.cards.yellow || 0}, Rojas: ${stats.cards.red || 0}`;
        } else {
          row.insertCell().textContent = "No hay datos";
        }
      }
    }

    load();
  </script>

</body>
</html>
